<!DOCTYPE HTML><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>15-JDBCTemplate</title>
    
<style id="wiz_custom_css">html, body {font-size: 12pt;}body {font-family: Helvetica, 'Hiragino Sans GB', '微软雅黑', 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;line-height: 1.6;margin: 0 auto;padding: 20px 16px;padding: 1.25rem 1rem;}h1, h2, h3, h4, h5, h6 {margin:20px 0 10px;margin:1.25rem 0 0.625rem;padding: 0;font-weight: bold;}h1 {font-size:20pt;font-size:1.67rem;}h2 {font-size:18pt;font-size:1.5rem;}h3 {font-size:15pt;font-size:1.25rem;}h4 {font-size:14pt;font-size:1.17rem;}h5 {font-size:12pt;font-size:1rem;}h6 {font-size:12pt;font-size:1rem;color: #777777;margin: 1rem 0;}div, p, ul, ol, dl, li {margin:0;}blockquote, table, pre, code {margin:8px 0;}ul, ol {padding-left:32px;padding-left:2rem;}ol.wiz-list-level1 > li {list-style-type:decimal;}ol.wiz-list-level2 > li {list-style-type:lower-latin;}ol.wiz-list-level3 > li {list-style-type:lower-roman;}blockquote {padding:0 12px;padding:0 0.75rem;}blockquote > :first-child {margin-top:0;}blockquote > :last-child {margin-bottom:0;}img {border:0;max-width:100%;height:auto !important;margin:2px 0;}table {border-collapse:collapse;border:1px solid #bbbbbb;}td, th {padding:4px 8px;border-collapse:collapse;border:1px solid #bbbbbb;min-height:28px;word-break:break-all;box-sizing: border-box;}.wiz-hide {display:none !important;}</style></head>

<body class=""  spellcheck="false"><div></div><h1 class="postTitle" style="margin:20px 0px 10px;padding:0px;font-weight:bold;color:rgb(0, 0, 0);border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(221, 221, 221);font-size:0.875rem;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;font-style:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/tuhooo/p/6491913.html" style="margin:0px;padding:0px;text-decoration:none;color:rgb(0, 0, 0);font-size:1.5rem;">Spring之JDBCTemplate学习</a></h1><div class="clear" style="margin:0px;padding:0px;color:rgb(0, 0, 0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:0.813rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"></div><div class="postBody" style="margin:0px;padding:0px;color:rgb(17, 17, 17);font-size:0.813rem;font-family:Verdana, Arial, Helvetica, sans-serif;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><div id="cnblogs_post_body" style="margin:0px 0px 20px;padding:0px;"><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">一、Spring对不同的持久化支持：</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">Spring为各种支持的持久化技术，都提供了简单操作的模板和回调</p><div class="wiz-table-container" style="position: relative; padding: 0px;"><div class="wiz-table-body"><table border="0" style="margin:0px;padding:0px;border:1px solid silver;border-collapse:collapse;width:681px;"><tbody style="margin:0px;padding:0px;"><tr style="margin:0px;padding:0px;"><td valign="top" width="200" style="margin:0px;padding:0px;border:1px solid silver;border-collapse:collapse;">ORM持久化技术</td><td valign="top" width="479" style="margin:0px;padding:0px;border:1px solid silver;border-collapse:collapse;">模板类</td></tr><tr style="margin:0px;padding:0px;"><td valign="top" width="200" style="margin:0px;padding:0px;border:1px solid silver;border-collapse:collapse;">JDBC</td><td valign="top" width="479" style="margin:0px;padding:0px;border:1px solid silver;border-collapse:collapse;">org.springframework.jdbc.core.JdbcTemplate</td></tr><tr style="margin:0px;padding:0px;"><td valign="top" width="200" style="margin:0px;padding:0px;border:1px solid silver;border-collapse:collapse;">Hibernate5.0</td><td valign="top" width="479" style="margin:0px;padding:0px;border:1px solid silver;border-collapse:collapse;">org.springframework.orm.hibernate5.HibernateTemplate</td></tr><tr style="margin:0px;padding:0px;"><td valign="top" width="200" style="margin:0px;padding:0px;border:1px solid silver;border-collapse:collapse;">IBatis(MyBatis)</td><td valign="top" width="479" style="margin:0px;padding:0px;border:1px solid silver;border-collapse:collapse;">org.springframework.orm.ibatis.SqlMapClientTemplate</td></tr><tr style="margin:0px;padding:0px;"><td valign="top" width="200" style="margin:0px;padding:0px;border:1px solid silver;border-collapse:collapse;">JPA</td><td valign="top" width="479" style="margin:0px;padding:0px;border:1px solid silver;border-collapse:collapse;">org.springfrmaework.orm.jpa.JpaTemplate</td></tr></tbody></table></div></div><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">其实Spring的JDBCTemplate有点像DBUtils，但是有时候还没有DBUitls好用。这里来学习一下使用Spring的JDBCTemplate来玩一下CRUD。</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">二、使用JdbcTemplate需要的jar包</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">在这里使用Spring的JDBCTemplate的时候先要把轮子拿过来：</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;"><a href="http://images2015.cnblogs.com/blog/806053/201703/806053-20170302180946766-1093960819.png" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);"><img title="image" src="15-JDBCTemplate_files/0.4159884618659804.png" alt="image" width="380" height="59" style="margin:0px;padding:0px;border:0px;display:inline;background-image:none;"></a></p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">除此之外，在Java中操作数据库怎么能不要对应的驱动包呢：</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;"><a href="http://images2015.cnblogs.com/blog/806053/201703/806053-20170302180947751-1504416999.png" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);"><img title="image" src="15-JDBCTemplate_files/0.47386358603718715.png" alt="image" width="238" height="23" style="margin:0px;padding:0px;border:0px;display:inline;background-image:none;"></a></p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">三、JdbcTemplate使用的基本步骤</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">然后再看看Spring的JDBCTemplate的使用大体步骤，这里有一个小例子：</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;border:1px solid rgb(204, 204, 204);color:rgb(0, 0, 0);font-family:'Courier New' !important;font-size:0.75rem;background-color:rgb(245, 245, 245);"><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.9459888177779601.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div><pre style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;"><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  1</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">package</span> com.spring.test;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  2</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  3</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">import</span> org.junit.Test;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  4</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">import</span> org.springframework.jdbc.core.JdbcTemplate;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  5</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">import</span> org.springframework.jdbc.datasource.DriverManagerDataSource;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  6</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  7</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">class</span> TestJDBCTemplate {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  8</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  9</span>     @Test
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 10</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">void</span> test1() {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 11</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 12</span>         <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 0);">// JDBC模板依赖于连接池来获得数据的连接，所以必须先要构造连接池</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 13</span>         DriverManagerDataSource dataSource = <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">new</span> DriverManagerDataSource();
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 14</span>         dataSource.setDriverClassName("<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">com.mysql.jdbc.Driver</span>");
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 15</span>         dataSource.setUrl("<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">jdbc:mysql://localhost:3306/spring</span>");
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 16</span>         dataSource.setUsername("<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">root</span>");
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 17</span>         dataSource.setPassword("<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">123456</span>");
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 18</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 19</span>         <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 0);">// 创建JDBC模板</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 20</span>         JdbcTemplate jdbcTemplate = <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">new</span> JdbcTemplate();
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 21</span>         <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 0);">// 这里也可以使用构造方法</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 22</span>         jdbcTemplate.setDataSource(dataSource);
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 23</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 24</span>         <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 0);">// sql语句</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 25</span>         String sql = "<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">select count(*)  from user</span>";
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 26</span>         Long num = (<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">long</span>) jdbcTemplate.queryForObject(sql, Long.<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">class</span>);
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 27</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 28</span>         System.out.println(num);
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 29</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 30</span>     }
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 31</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 32</span> }</pre><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.7352576846276526.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div></div><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">四、进一步的考虑</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">其实这个例子本身没有什么的，只是演示了一下，其实在学Spring之后，感觉应该形成一种习惯，在new对象的时候我要想到IOC，在使用Set方法的时候，我要想到DI，再去要方便面（哦，不，是切面），我们应该想到用AOP的。这里可以在Spring中配置如下的引用链：</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">1. 我要有DataSource，DataSource的属性可以通过注入数据库的一些配置属性添加</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">2. 我要有JdbcTemplate，而Template依赖与DataSource，我要以ref的方式为我的JdbcTemplate注入引用</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">3. 有了JdbcTemplate之后，我要有Dao，此时我应该在Dao添加一个JdbcTemplate的成员，然后以ref的方式将JdbcTemplate引入到Dao中</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">4. 我在Action或者是Servlet中都会调用的是Serivce，所以，我在Serivce中要添加一个Dao作为成员，然后由ref在注入Dao到Service中</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">DataSource --&gt; JdbcTemplate --&gt; Dao --&gt; Service --&gt; Action/Servlet</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">"--&gt;"表示将左边的对象注入到右边的对象当中</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">配置文件如下：</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;border:1px solid rgb(204, 204, 204);color:rgb(0, 0, 0);font-family:'Courier New' !important;font-size:0.75rem;background-color:rgb(245, 245, 245);"><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.9548464039093745.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div><pre style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;"><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  1</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;?</span>xml version="1.0" encoding="UTF-8"<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">?&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  2</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">beans</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">xmlns</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"http://www.springframework.org/schema/beans"</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  3</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">xmlns</span>:<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">xsi</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"http://www.w3.org/2001/XMLSchema-instance"</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  4</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">xmlns</span>:<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">context</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"http://www.springframework.org/schema/context"</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  5</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">xmlns</span>:<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">aop</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"http://www.springframework.org/schema/aop"</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  6</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">xmlns</span>:<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">tx</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"http://www.springframework.org/schema/tx"</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  7</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">xsi</span>:<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">schemaLocation</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"http://www.springframework.org/schema/beans
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  8</span>     http://www.springframework.org/schema/beans/spring-beans.xsd
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  9</span>     http://www.springframework.org/schema/context
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 10</span>     http://www.springframework.org/schema/context/spring-context.xsd
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 11</span>     http://www.springframework.org/schema/aop
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 12</span>     http://www.springframework.org/schema/aop/spring-aop.xsd
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 13</span>     http://www.springframework.org/schema/tx
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 14</span>     http://www.springframework.org/schema/tx/spring-tx.xsd"</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 15</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 16</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 0);">&lt;!-- IOC和DI的注解扫描 --&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 17</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(199, 21, 133);">context</span>:<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">component</span>-<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">scan</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">base</span>-<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">package</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"com.spring"</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;/</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(199, 21, 133);">context</span>:<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">component</span>-scan<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 18</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 19</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 0);">&lt;!-- 打开AOP的注解 --&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 20</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 0);">&lt;!-- 这里用的是中间的横线而不是下划线 --&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 21</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(199, 21, 133);">aop</span>:<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">aspectj</span>-<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">autoproxy</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;/</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(199, 21, 133);">aop</span>:<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">aspectj</span>-autoproxy<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 22</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 23</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">bean</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">id</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"dataSource"</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">class</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"com.mchange.v2.c3p0.ComboPooledDataSource"</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 24</span>         <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">property</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">name</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"jdbcUrl"</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">value</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"jdbc:mysql://localhost:3306/spring_03"</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;/</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">property</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 25</span>         <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">property</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">name</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"driverClass"</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">value</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"com.mysql.jdbc.Driver"</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;/</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">property</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 26</span>         <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">property</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">name</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"user"</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">value</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"root"</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;/</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">property</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 27</span>         <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">property</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">name</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"password"</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">value</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"123456"</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;/</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">property</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 28</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;/</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">bean</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 29</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 30</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">bean</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">id</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"jdbcTemplate"</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">class</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"org.springframework.jdbc.core.JdbcTemplate"</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 31</span>         <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">property</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">name</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"dataSource"</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">ref</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"dataSource"</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;/</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">property</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 32</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;/</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">bean</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 33</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 34</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">bean</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">id</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"userDao"</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">class</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"com.spring.dao.UserDao"</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 35</span>         <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">property</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">name</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"jdbcTemplate"</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">ref</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"jdbcTemplate"</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;/</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">property</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 36</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;/</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">bean</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 37</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 38</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">bean</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">id</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"userService"</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">class</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"com.spring.service.UserService"</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 39</span>         <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">property</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">name</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"userDao"</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(255, 0, 0);">ref</span>=<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">"userDao"</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;/</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">property</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 40</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;/</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">bean</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 41</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 42</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;/</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(128, 0, 0);">beans</span><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span></pre><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.7290818986349548.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div></div><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">其中dataSource和jdbcTemplate都是直接配置的，不用写啥。</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">然后是UserDao.java</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;border:1px solid rgb(204, 204, 204);color:rgb(0, 0, 0);font-family:'Courier New' !important;font-size:0.75rem;background-color:rgb(245, 245, 245);"><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.06577251347453594.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div><pre style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;"><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  1</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">package</span> com.spring.dao;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  2</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  3</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">import</span> org.springframework.jdbc.core.JdbcTemplate;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  4</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  5</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">import</span> com.spring.domain.User;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  6</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  7</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">class</span> UserDao {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  8</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  9</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">private</span> JdbcTemplate jdbcTemplate;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 10</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 11</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> JdbcTemplate getJdbcTemplate() {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 12</span>         <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">return</span> jdbcTemplate;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 13</span>     }
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 14</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 15</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">void</span> setJdbcTemplate(JdbcTemplate jdbcTemplate) {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 16</span>         <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">this</span>.jdbcTemplate = jdbcTemplate;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 17</span>     }
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 18</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 19</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">void</span> addUser(User user) {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 20</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 21</span>         String sql = "<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">insert into user (username, password) values (?, ?)</span>";
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 22</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 23</span>         jdbcTemplate.update(sql, user.getUsername(), user.getPassword());
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 24</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 25</span>     }
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 26</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 27</span> }</pre><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.07625286769993389.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div></div><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">UserSerice.java</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;border:1px solid rgb(204, 204, 204);color:rgb(0, 0, 0);font-family:'Courier New' !important;font-size:0.75rem;background-color:rgb(245, 245, 245);"><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.10416240803145937.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div><pre style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;"><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  1</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">package</span> com.spring.service;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  2</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  3</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">import</span> com.spring.dao.UserDao;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  4</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">import</span> com.spring.domain.User;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  5</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  6</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">class</span> UserService {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  7</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  8</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 0);">// 加入userDao作为成员变变量</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  9</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">private</span> UserDao userDao;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 10</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 11</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 0);">// 注意这里要增加get和set方法</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 12</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> UserDao getUserDao() {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 13</span>         <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">return</span> userDao;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 14</span>     }
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 15</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 16</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">void</span> setUserDao(UserDao userDao) {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 17</span>         <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">this</span>.userDao = userDao;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 18</span>     }
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 19</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 20</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">void</span> addUser(User user) {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 21</span>         userDao.addUser(user);
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 22</span>     }
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 23</span> }</pre><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.6141795239387589.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div></div><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">上面的文件都是用的配置文件来获得对象的，而没有使用注解。</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">测试类：</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;border:1px solid rgb(204, 204, 204);color:rgb(0, 0, 0);font-family:'Courier New' !important;font-size:0.75rem;background-color:rgb(245, 245, 245);"><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.14485018205996858.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div><pre style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;"><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  1</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">package</span> com.spring.test;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  2</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  3</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">import</span> org.junit.Test;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  4</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">import</span> org.springframework.context.ApplicationContext;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  5</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  6</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">import</span> com.spring.domain.User;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  7</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">import</span> com.spring.service.UserService;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  8</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  9</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">class</span> TestJDBCTemplate {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 10</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 11</span>     @Test
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 12</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">void</span> test2() {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 13</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 14</span>         ApplicationContext ctx = <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">new</span> ClassPathXmlApplicationContext("<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">bean.xml</span>");
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 15</span>         UserService userService = (UserService) ctx.getBean("<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">userService</span>");
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 16</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 17</span>         User user = <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">new</span> User();
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 18</span>         user.setPassword("<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">111</span>");
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 19</span>         user.setUsername("<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">小王</span>");
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 20</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 21</span>         userService.addUser(user);
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 22</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 23</span>     }
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 24</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 25</span> }</pre><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.7829168391230408.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div></div><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">哦，对了其中配置的数据源是C3P0的数据源，还要导入C3P0的包：</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;"><a href="http://images2015.cnblogs.com/blog/806053/201703/806053-20170302180948813-69628436.png" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);"><img title="image" src="15-JDBCTemplate_files/0.7760899928419647.png" alt="image" width="371" height="57" style="margin:0px;padding:0px;border:0px;display:inline;background-image:none;"></a></p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">五、JdbcTemplate的CRUD方法</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">1. 插入数据</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;border:1px solid rgb(204, 204, 204);color:rgb(0, 0, 0);font-family:'Courier New' !important;font-size:0.75rem;background-color:rgb(245, 245, 245);"><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.034604603326309435.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div><pre style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;"><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  1</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">void</span> addUser(User user) {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  2</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  3</span>     String sql = "<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">insert into user (username, password) values (?, ?)</span>";
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  4</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  5</span>     jdbcTemplate.update(sql, user.getUsername(), user.getPassword());
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  6</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  7</span> }</pre><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.996256765390642.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div></div><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">如上，插入代码用的是update方法，其实增删改用的都是update方法，而查询则是和query相关的方法。</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">2. 删除操作</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;border:1px solid rgb(204, 204, 204);color:rgb(0, 0, 0);font-family:'Courier New' !important;font-size:0.75rem;background-color:rgb(245, 245, 245);"><pre style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;"><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  1</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">void</span> deleteUser( ) {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  2</span>     String sql = "<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">delete from user where username= ?</span>";
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  3</span>     jdbcTemplate.update(sql, "<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">小王</span>");
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  4</span> }</pre></div><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">3. 修改操作</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;border:1px solid rgb(204, 204, 204);color:rgb(0, 0, 0);font-family:'Courier New' !important;font-size:0.75rem;background-color:rgb(245, 245, 245);"><pre style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;"><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  1</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">void</span> updateUser(User user) {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  2</span>     String sql = "<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">update user set username=? where username= ?</span>";
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  3</span>     jdbcTemplate.update(sql,  user.getUsername() + "<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">_new</span>", user.getUsername());
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  4</span> }</pre></div><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">4. 查询操作</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">上面三个都比较简单，查询倒是有些复杂。在使用比较基础的持久化工具的时候，比如DBUtils都会针对查询结果给我们提供一些封装的接口和类，但是JdbcTemplate只给我们提供了接口，并没有可用的类，所以我们需要自己写实现类来进行封装。这里会学习使用JdbcTemplate进行三种查询操作：</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">4.a. 查询表的记录数</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;"><a href="http://images2015.cnblogs.com/blog/806053/201703/806053-20170302180949876-1692499919.png" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);"><img title="image" src="15-JDBCTemplate_files/0.5082454512752665.png" alt="image" width="433" height="23" style="margin:0px;padding:0px;border:0px;display:inline;background-image:none;"></a></p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;border:1px solid rgb(204, 204, 204);color:rgb(0, 0, 0);font-family:'Courier New' !important;font-size:0.75rem;background-color:rgb(245, 245, 245);"><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.039799243078025626.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div><pre style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;"><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  1</span> @Test
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  2</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">void</span> test5() {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  3</span>     ApplicationContext ctx = <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">new</span> ClassPathXmlApplicationContext("<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">bean.xml</span>");
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  4</span>     JdbcTemplate jdbcTemplate = (JdbcTemplate) ctx.getBean("<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">jdbcTemplate</span>");
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  5</span>     String sql = "<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">select count(*) from user</span>";
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  6</span>     Long row = jdbcTemplate.queryForObject(sql, Long.<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">class</span>);
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  7</span>     System.out.println("<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">查询出来的记录数为：</span>" + row);
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  8</span> }</pre><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.382257199760214.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div></div><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">4.b. 查询返回对象</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;"><a href="http://images2015.cnblogs.com/blog/806053/201703/806053-20170302180951063-1002452336.png" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);"><img title="image" src="15-JDBCTemplate_files/0.08932787373614914.png" alt="image" width="468" height="23" style="margin:0px;padding:0px;border:0px;display:inline;background-image:none;"></a></p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;border:1px solid rgb(204, 204, 204);color:rgb(0, 0, 0);font-family:'Courier New' !important;font-size:0.75rem;background-color:rgb(245, 245, 245);"><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.7846781394365661.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div><pre style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;"><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  1</span> @Test
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  2</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">void</span> test6() {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  3</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 0);">// 获得jdbcTemplate对象</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  4</span>     ApplicationContext ctx = <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">new</span> ClassPathXmlApplicationContext("<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">bean.xml</span>");
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  5</span>     JdbcTemplate jdbcTemplate = (JdbcTemplate) ctx.getBean("<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">jdbcTemplate</span>");
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  6</span>     String sql = "<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">select username, password from user where username = ?</span>";
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  7</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 0);">// 设定参数</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  8</span>     Object[] <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">object</span> = {"<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">mary_new</span>"};
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  9</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 0);">// 进行查询</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 10</span>     User user = jdbcTemplate.queryForObject(sql, <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">object</span>,  <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">new</span> UserMapper());
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 11</span>     System.out.println(user);
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 12</span> }</pre><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.21188269568362195.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div></div><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">除此之外要实现结构RowMapper来新建一个映射类：</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;border:1px solid rgb(204, 204, 204);color:rgb(0, 0, 0);font-family:'Courier New' !important;font-size:0.75rem;background-color:rgb(245, 245, 245);"><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.7594933374887942.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div><pre style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;"><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  1</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">package</span> com.spring.test;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  2</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  3</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">import</span> java.sql.ResultSet;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  4</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">import</span> java.sql.SQLException;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  5</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  6</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">import</span> org.springframework.jdbc.core.RowMapper;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  7</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  8</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">import</span> com.spring.domain.User;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  9</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 10</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">class</span> UserMapper <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">implements</span> RowMapper&lt;User&gt;{
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 11</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 12</span>     @Override
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 13</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> User mapRow(ResultSet resultSet, <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">int</span> rows) <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">throws</span> SQLException {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 14</span>         User user = <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">new</span> User();
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 15</span>         user.setUsername(resultSet.getString(1));
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 16</span>         user.setPassword(resultSet.getString(2));
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 17</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 18</span>         <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">return</span> user;
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 19</span>     }
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 20</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 21</span> }</pre><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.21373828108336634.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div></div><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">要注意这个UserMapper.java应该要和具体的Sql语句对应。</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">4.c. 查询并返回List集合</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;"><a href="http://images2015.cnblogs.com/blog/806053/201703/806053-20170302180952704-1233419894.png" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);"><img title="image" src="15-JDBCTemplate_files/0.35582491920957526.png" alt="image" width="464" height="22" style="margin:0px;padding:0px;border:0px;display:inline;background-image:none;"></a></p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;border:1px solid rgb(204, 204, 204);color:rgb(0, 0, 0);font-family:'Courier New' !important;font-size:0.75rem;background-color:rgb(245, 245, 245);"><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.5553310207624733.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div><pre style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;"><span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  1</span> @Test
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  2</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">public</span> <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">void</span> test7() {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  3</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 0);">// 获得jdbcTemplate对象</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  4</span>     ApplicationContext ctx = <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">new</span> ClassPathXmlApplicationContext("<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">bean.xml</span>");
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  5</span>     JdbcTemplate jdbcTemplate = (JdbcTemplate) ctx.getBean("<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">jdbcTemplate</span>");
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  6</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  7</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 0);">// sql语句</span>
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  8</span>     String sql = "<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(139, 0, 0);">select * from user</span>";
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);">  9</span>     List&lt;User&gt; users = jdbcTemplate.query(sql, <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">new</span> UserMapper());
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 10</span> 
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 11</span>     <span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 0, 255);">for</span>(User u: users) {
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 12</span>         System.out.println(u);
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 13</span>     }
<span style="margin:0px;padding:0px;font-family:'Courier New' !important;font-size:0.75rem;color:rgb(0, 128, 128);"> 14</span> }</pre><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:'Courier New' !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);border:none !important;background-color:rgb(245, 245, 245) !important;"><img src="15-JDBCTemplate_files/0.44326277704868366.png" alt="复制代码" style="margin:0px;padding:0px;border:none !important;background-color:rgb(245, 245, 245) !important;"></a></span></div></div><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">&nbsp;</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">总结：</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">1. Spring全套管理各种组件，注入、控制反转等，将组件之间的关系以配置文件的形式串联起来，最大程度的对应用解耦和</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">2. Spring的JdbcTemplate中的CRUD操作还好，比较常规，但是也只对JDBC的持久化操作的演示，还没用其他的呢</p><p style="margin:0px auto;padding:0px;text-indent:0px;font-family:微软雅黑, 宋体, 黑体, Verdana, Arial;">3. 多练习下配置文件编写，注入的方式、写法还不是很熟</p></div><br><div style="color:gray;"><small>来源：&nbsp;<a href="https://www.cnblogs.com/tuhooo/p/6491913.html">https://www.cnblogs.com/tuhooo/p/6491913.html</a></small></div></div></body></html>