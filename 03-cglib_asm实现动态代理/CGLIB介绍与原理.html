<!DOCTYPE HTML><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>CGLIB介绍与原理</title>
    
<style id="wiz_custom_css">html, body {font-size: 12pt;}body {font-family: Helvetica, 'Hiragino Sans GB', '微软雅黑', 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;line-height: 1.6;margin: 0 auto;padding: 20px 16px;padding: 1.25rem 1rem;}h1, h2, h3, h4, h5, h6 {margin:20px 0 10px;margin:1.25rem 0 0.625rem;padding: 0;font-weight: bold;}h1 {font-size:20pt;font-size:1.67rem;}h2 {font-size:18pt;font-size:1.5rem;}h3 {font-size:15pt;font-size:1.25rem;}h4 {font-size:14pt;font-size:1.17rem;}h5 {font-size:12pt;font-size:1rem;}h6 {font-size:12pt;font-size:1rem;color: #777777;margin: 1rem 0;}div, p, ul, ol, dl, li {margin:0;}blockquote, table, pre, code {margin:8px 0;}ul, ol {padding-left:32px;padding-left:2rem;}ol.wiz-list-level1 > li {list-style-type:decimal;}ol.wiz-list-level2 > li {list-style-type:lower-latin;}ol.wiz-list-level3 > li {list-style-type:lower-roman;}blockquote {padding:0 12px;padding:0 0.75rem;}blockquote > :first-child {margin-top:0;}blockquote > :last-child {margin-bottom:0;}img {border:0;max-width:100%;height:auto !important;margin:2px 0;}table {border-collapse:collapse;border:1px solid #bbbbbb;}td, th {padding:4px 8px;border-collapse:collapse;border:1px solid #bbbbbb;min-height:28px;word-break:break-all;box-sizing: border-box;}.wiz-hide {display:none !important;}</style></head>

<body spellcheck="false" class="" ><div><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;"><strong>CGLIB介绍与原理(部分节选自网络)</strong></span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;"><strong>一、什么是CGLIB?</strong></span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">CGLIB是一个功能强大，高性能的代码生成包。它为没有实现接口的类提供代理，为JDK的动态代理提供了很好的补充。通常可以使用Java的动态代理创建代理，但当要代理的类没有实现接口或者为了更好的性能，CGLIB是一个好的选择。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;"><strong>二、CGLIB原理</strong></span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">CGLIB原理：动态生成一个要代理类的子类，子类重写要代理的类的所有不是final的方法。在子类中采用方法拦截的技术拦截所有父类方法的调用，顺势织入横切逻辑。它比使用java反射的JDK动态代理要快。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">CGLIB底层：使用字节码处理框架ASM，来转换字节码并生成新的类。不鼓励直接使用ASM，因为它要求你必须对JVM内部结构包括class文件的格式和指令集都很熟悉。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;"><strong>CGLIB缺点</strong>：对于final方法，无法进行代理。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;"><strong>三、CGLIB的应用</strong></span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">广泛的被许多AOP的框架使用，例如Spring AOP和dynaop。Hibernate使用CGLIB来代理单端single-ended(多对一和一对一)关联。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;"><strong>四、CGLIB的API</strong></span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;"><strong>1、Jar包</strong>：</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">cglib-nodep-2.2.jar：使用nodep包不需要关联asm的jar包,jar包内部包含asm的类.</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">cglib-2.2.jar：使用此jar包需要关联asm的jar包,否则运行时报错.</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;"><strong>2、CGLIB类库：</strong></span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;"><strong>由于基本代码很少，学起来有一定的困难，主要是缺少文档和示例，这也是CGLIB的一个不足之处</strong>。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">本系列使用的CGLIB版本是<strong>2.2</strong>。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">net.sf.cglib.core:底层字节码处理类，他们大部分与ASM有关系。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">net.sf.cglib.transform:编译期或运行期类和类文件的转换</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">net.sf.cglib.proxy:实现创建代理和方法拦截器的类</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">net.sf.cglib.reflect:实现快速反射和C#风格代理的类</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">net.sf.cglib.util:集合排序等工具类</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">net.sf.cglib.beans:JavaBean相关的工具类</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">本篇介绍通过MethodInterceptor和Enhancer实现一个动态代理。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">一、首先说一下<strong>JDK中的动态代理</strong>：</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">JDK中的动态代理是通过反射类Proxy以及InvocationHandler回调接口实现的，</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">但是，JDK中所要进行动态代理的类必须要实现一个接口，也就是说只能对该类所实现接口中定义的方法进行代理，这在实际编程中具有一定的局限性，而且使用反射的效率也并不是很高。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">二、使用<strong>CGLib实现</strong>：</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">使用CGLib实现动态代理，完全不受代理类必须实现接口的限制，而且CGLib底层采用ASM字节码生成框架，使用字节码技术生成代理类，比使用Java反射效率要高。唯一需要注意的是，CGLib不能对声明为final的方法进行代理，因为CGLib原理是动态生成被代理类的子类。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">下面，将通过一个实例介绍使用CGLib实现动态代理。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;"><strong>1、被代理类</strong>：</span></p><span style="color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);">首先，定义一个类，该类没有实现任何接口</span><div class="dp-highlighter bg_java" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:1.1rem;width:925.212px;padding-top:1px;text-align:left;margin:18px 0px !important;color:rgb(85, 85, 85);font-style:normal;font-weight:normal;text-indent:0px;background-color:rgb(231, 229, 220);"><div class="bar" style="padding-left:45px;"><div class="tools" style="padding:3px 8px 10px 10px;font-style:normal;font-weight:normal;font-size:0.825rem;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);"><b>[java]</b><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="ViewSource" title="view plain" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">view plain</a><span data-mod="popu_168"><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="CopyToClipboard" title="copy" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">copy</a><div style="width:18px;"><embed id="ZeroClipboardMovie_1" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_1" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=1&amp;width=18&amp;height=18" wmode="transparent"></div></span><span data-mod="popu_169"></span></div></div><ol class="dp-j wiz-list-level1" style="margin:0px 0px 1px 45px !important;padding:0px;list-style:decimal;color:rgb(92, 92, 92);background-color:rgb(255, 255, 255);"><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span style="margin:0px;padding:0px;color:black;">&lt;span&nbsp;style=</span><span class="string" style="margin:0px;padding:0px;color:blue;">"font-size:14px;"</span><span style="margin:0px;padding:0px;color:black;">&gt;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">package</span><span style="margin:0px;padding:0px;color:black;">&nbsp;com.zghw.cglib;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">/**</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;*&nbsp;没有实现接口，需要CGlib动态代理的目标类</span>&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;*&nbsp;</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;*&nbsp;@author&nbsp;zghw</span>&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;*</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;*/</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">&nbsp;TargetObject&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;String&nbsp;method1(String&nbsp;paramName)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;paramName;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">int</span><span style="margin:0px;padding:0px;color:black;">&nbsp;method2(</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">int</span><span style="margin:0px;padding:0px;color:black;">&nbsp;count)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;count;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">int</span><span style="margin:0px;padding:0px;color:black;">&nbsp;method3(</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">int</span><span style="margin:0px;padding:0px;color:black;">&nbsp;count)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;count;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation" style="margin:0px;padding:0px;color:rgb(100, 100, 100);">@Override</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;String&nbsp;toString()&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="string" style="margin:0px;padding:0px;color:blue;">"TargetObject&nbsp;[]"</span><span style="margin:0px;padding:0px;color:black;">+&nbsp;getClass();&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">}&lt;/span&gt;&nbsp;&nbsp;</span></li></ol></div><span style="color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><br></span><span style="color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;background-color:rgb(255, 255, 255);"></span><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;"><strong>2、拦截器</strong>：</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">定义一个拦截器。在调用目标方法时，CGLib会回调MethodInterceptor接口方法拦截，来实现你自己的代理逻辑，类似于JDK中的InvocationHandler接口。</span></p><div class="dp-highlighter bg_java" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:1.1rem;width:925.212px;padding-top:1px;text-align:left;margin:18px 0px !important;color:rgb(85, 85, 85);font-style:normal;font-weight:normal;text-indent:0px;background-color:rgb(231, 229, 220);"><div class="bar" style="padding-left:45px;"><div class="tools" style="padding:3px 8px 10px 10px;font-style:normal;font-weight:normal;font-size:0.825rem;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);"><b>[java]</b><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="ViewSource" title="view plain" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">view plain</a><span data-mod="popu_168"><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="CopyToClipboard" title="copy" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">copy</a><div style="width:18px;"><embed id="ZeroClipboardMovie_2" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_2" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=2&amp;width=18&amp;height=18" wmode="transparent"></div></span><span data-mod="popu_169"></span></div></div><ol class="dp-j wiz-list-level1" style="margin:0px 0px 1px 45px !important;padding:0px;list-style:decimal;color:rgb(92, 92, 92);background-color:rgb(255, 255, 255);"><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span style="margin:0px;padding:0px;color:black;">&lt;span&nbsp;style=</span><span class="string" style="margin:0px;padding:0px;color:blue;">"font-size:14px;"</span><span style="margin:0px;padding:0px;color:black;">&gt;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">package</span><span style="margin:0px;padding:0px;color:black;">&nbsp;com.zghw.cglib;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;java.lang.reflect.Method;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;net.sf.cglib.proxy.MethodInterceptor;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;net.sf.cglib.proxy.MethodProxy;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">/**</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;*&nbsp;目标对象拦截器，实现MethodInterceptor</span>&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;*&nbsp;@author&nbsp;zghw</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;*</span>&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;*/</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">&nbsp;TargetInterceptor&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">implements</span><span style="margin:0px;padding:0px;color:black;">&nbsp;MethodInterceptor{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">/**</span>&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;重写方法拦截在方法前和方法后加入业务</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Object&nbsp;obj为目标对象</span>&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Method&nbsp;method为目标方法</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Object[]&nbsp;params&nbsp;为参数，</span>&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;MethodProxy&nbsp;proxy&nbsp;CGlib方法代理对象</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation" style="margin:0px;padding:0px;color:rgb(100, 100, 100);">@Override</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Object&nbsp;intercept(Object&nbsp;obj,&nbsp;Method&nbsp;method,&nbsp;Object[]&nbsp;params,&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MethodProxy&nbsp;proxy)&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">throws</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Throwable&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string" style="margin:0px;padding:0px;color:blue;">"调用前"</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object&nbsp;result&nbsp;=&nbsp;proxy.invokeSuper(obj,&nbsp;params);&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string" style="margin:0px;padding:0px;color:blue;">"&nbsp;调用后"</span><span style="margin:0px;padding:0px;color:black;">+result);&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;result;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">}&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&lt;/span&gt;&nbsp;&nbsp;</span></li></ol></div><span style="color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><br></span><span style="color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;background-color:rgb(255, 255, 255);"></span><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">参数：Object为由CGLib动态生成的代理类实例，Method为上文中实体类所调用的被代理的方法引用，Object[]为参数值列表，MethodProxy为生成的代理类对方法的代理引用。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">返回：从代理实例的方法调用返回的值。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">其中，proxy.invokeSuper(obj,arg)：</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">调用代理类实例上的proxy方法的父类方法（即实体类TargetObject中对应的方法）</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">在这个示例中，只在调用被代理类方法前后各打印了一句话，当然实际编程中可以是其它复杂逻辑。</span></p><span style="color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><strong>3、生成动态代理类</strong>：</span><div class="dp-highlighter bg_java" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:1.1rem;width:925.212px;padding-top:1px;text-align:left;margin:18px 0px !important;color:rgb(85, 85, 85);font-style:normal;font-weight:normal;text-indent:0px;background-color:rgb(231, 229, 220);"><div class="bar" style="padding-left:45px;"><div class="tools" style="padding:3px 8px 10px 10px;font-style:normal;font-weight:normal;font-size:0.825rem;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);"><b>[java]</b><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="ViewSource" title="view plain" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">view plain</a><span data-mod="popu_168"><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="CopyToClipboard" title="copy" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">copy</a><div style="width:18px;"><embed id="ZeroClipboardMovie_3" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_3" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=3&amp;width=18&amp;height=18" wmode="transparent"></div></span><span data-mod="popu_169"></span></div></div><ol class="dp-j wiz-list-level1" style="margin:0px 0px 1px 45px !important;padding:0px;list-style:decimal;color:rgb(92, 92, 92);background-color:rgb(255, 255, 255);"><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span style="margin:0px;padding:0px;color:black;">&lt;span&nbsp;style=</span><span class="string" style="margin:0px;padding:0px;color:blue;">"font-size:14px;"</span><span style="margin:0px;padding:0px;color:black;">&gt;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">package</span><span style="margin:0px;padding:0px;color:black;">&nbsp;com.zghw.cglib;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;net.sf.cglib.proxy.Callback;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;net.sf.cglib.proxy.CallbackFilter;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;net.sf.cglib.proxy.Enhancer;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;net.sf.cglib.proxy.NoOp;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">&nbsp;TestCglib&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">static</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">void</span><span style="margin:0px;padding:0px;color:black;">&nbsp;main(String&nbsp;args[])&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enhancer&nbsp;enhancer&nbsp;=<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Enhancer();&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enhancer.setSuperclass(TargetObject.<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enhancer.setCallback(<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;TargetInterceptor());&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TargetObject&nbsp;targetObject2=(TargetObject)enhancer.create();&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(targetObject2);&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(targetObject2.method1(<span class="string" style="margin:0px;padding:0px;color:blue;">"mmm1"</span><span style="margin:0px;padding:0px;color:black;">));&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(targetObject2.method2(<span class="number" style="margin:0px;padding:0px;color:rgb(192, 0, 0);">100</span><span style="margin:0px;padding:0px;color:black;">));&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(targetObject2.method3(<span class="number" style="margin:0px;padding:0px;color:rgb(192, 0, 0);">200</span><span style="margin:0px;padding:0px;color:black;">));&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">}&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&lt;/span&gt;&nbsp;&nbsp;</span></li></ol></div><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">这里Enhancer类是CGLib中的一个字节码增强器，它可以方便的对你想要处理的类进行扩展，以后会经常看到它。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">首先将被代理类TargetObject设置成父类，然后设置拦截器TargetInterceptor，最后执行enhancer.create()动态生成一个代理类，并从Object强制转型成父类型TargetObject。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">最后，在代理类上调用方法.</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;"><strong>4、回调过滤器CallbackFilter</strong></span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;"><strong>一、作用</strong></span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">在CGLib回调时可以设置对不同方法执行不同的回调逻辑，或者根本不执行回调。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">在JDK动态代理中并没有类似的功能，对InvocationHandler接口方法的调用对代理类内的所以方法都有效。</span></p><span style="color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><br></span><span style="color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;background-color:rgb(255, 255, 255);"></span><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">定义实现过滤器CallbackFilter接口的类：</span></p><div class="dp-highlighter bg_java" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:1.1rem;width:925.212px;padding-top:1px;text-align:left;margin:18px 0px !important;color:rgb(85, 85, 85);font-style:normal;font-weight:normal;text-indent:0px;background-color:rgb(231, 229, 220);"><div class="bar" style="padding-left:45px;"><div class="tools" style="padding:3px 8px 10px 10px;font-style:normal;font-weight:normal;font-size:0.825rem;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);"><b>[java]</b><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="ViewSource" title="view plain" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">view plain</a><span data-mod="popu_168"><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="CopyToClipboard" title="copy" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">copy</a><div style="width:18px;"><embed id="ZeroClipboardMovie_4" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_4" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=4&amp;width=18&amp;height=18" wmode="transparent"></div></span><span data-mod="popu_169"></span></div></div><ol class="dp-j wiz-list-level1" style="margin:0px 0px 1px 45px !important;padding:0px;list-style:decimal;color:rgb(92, 92, 92);background-color:rgb(255, 255, 255);"><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span style="margin:0px;padding:0px;color:black;">&lt;span&nbsp;style=</span><span class="string" style="margin:0px;padding:0px;color:blue;">"font-size:14px;"</span><span style="margin:0px;padding:0px;color:black;">&gt;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">package</span><span style="margin:0px;padding:0px;color:black;">&nbsp;com.zghw.cglib;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;java.lang.reflect.Method;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;net.sf.cglib.proxy.CallbackFilter;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">/**</span>&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;*&nbsp;回调方法过滤</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;*&nbsp;@author&nbsp;zghw</span>&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;*</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;*/</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">&nbsp;TargetMethodCallbackFilter&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">implements</span><span style="margin:0px;padding:0px;color:black;">&nbsp;CallbackFilter&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">/**</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;过滤方法</span>&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;返回的值为数字，代表了Callback数组中的索引位置，要到用的Callback</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation" style="margin:0px;padding:0px;color:rgb(100, 100, 100);">@Override</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">int</span><span style="margin:0px;padding:0px;color:black;">&nbsp;accept(Method&nbsp;method)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">if</span><span style="margin:0px;padding:0px;color:black;">(method.getName().equals(</span><span class="string" style="margin:0px;padding:0px;color:blue;">"method1"</span><span style="margin:0px;padding:0px;color:black;">)){&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string" style="margin:0px;padding:0px;color:blue;">"filter&nbsp;method1&nbsp;==0"</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="number" style="margin:0px;padding:0px;color:rgb(192, 0, 0);">0</span><span style="margin:0px;padding:0px;color:black;">;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">if</span><span style="margin:0px;padding:0px;color:black;">(method.getName().equals(</span><span class="string" style="margin:0px;padding:0px;color:blue;">"method2"</span><span style="margin:0px;padding:0px;color:black;">)){&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string" style="margin:0px;padding:0px;color:blue;">"filter&nbsp;method2&nbsp;==1"</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="number" style="margin:0px;padding:0px;color:rgb(192, 0, 0);">1</span><span style="margin:0px;padding:0px;color:black;">;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">if</span><span style="margin:0px;padding:0px;color:black;">(method.getName().equals(</span><span class="string" style="margin:0px;padding:0px;color:blue;">"method3"</span><span style="margin:0px;padding:0px;color:black;">)){&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string" style="margin:0px;padding:0px;color:blue;">"filter&nbsp;method3&nbsp;==2"</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="number" style="margin:0px;padding:0px;color:rgb(192, 0, 0);">2</span><span style="margin:0px;padding:0px;color:black;">;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="number" style="margin:0px;padding:0px;color:rgb(192, 0, 0);">0</span><span style="margin:0px;padding:0px;color:black;">;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&lt;/span&gt;&nbsp;&nbsp;</span></li></ol></div><span style="color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><br>其中return值为被代理类的各个方法在回调数组Callback[]中的位置索引（见下文）。</span><div class="dp-highlighter bg_java" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:1.1rem;width:925.212px;padding-top:1px;text-align:left;margin:18px 0px !important;color:rgb(85, 85, 85);font-style:normal;font-weight:normal;text-indent:0px;background-color:rgb(231, 229, 220);"><div class="bar" style="padding-left:45px;"><div class="tools" style="padding:3px 8px 10px 10px;font-style:normal;font-weight:normal;font-size:0.825rem;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);"><b>[java]</b><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="ViewSource" title="view plain" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">view plain</a><span data-mod="popu_168"><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="CopyToClipboard" title="copy" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">copy</a><div style="width:18px;"><embed id="ZeroClipboardMovie_5" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_5" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=5&amp;width=18&amp;height=18" wmode="transparent"></div></span><span data-mod="popu_169"></span></div></div><ol class="dp-j wiz-list-level1" style="margin:0px 0px 1px 45px !important;padding:0px;list-style:decimal;color:rgb(92, 92, 92);background-color:rgb(255, 255, 255);"><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span style="margin:0px;padding:0px;color:black;">&lt;span&nbsp;style=</span><span class="string" style="margin:0px;padding:0px;color:blue;">"font-size:14px;"</span><span style="margin:0px;padding:0px;color:black;">&gt;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">package</span><span style="margin:0px;padding:0px;color:black;">&nbsp;com.zghw.cglib;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;net.sf.cglib.proxy.Callback;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;net.sf.cglib.proxy.CallbackFilter;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;net.sf.cglib.proxy.Enhancer;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;net.sf.cglib.proxy.NoOp;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">&nbsp;TestCglib&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">static</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">void</span><span style="margin:0px;padding:0px;color:black;">&nbsp;main(String&nbsp;args[])&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enhancer&nbsp;enhancer&nbsp;=<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Enhancer();&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enhancer.setSuperclass(TargetObject.<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CallbackFilter&nbsp;callbackFilter&nbsp;=&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;TargetMethodCallbackFilter();&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">/**</span>&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;(1)callback1：方法拦截器</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(2)NoOp.INSTANCE：这个NoOp表示no&nbsp;operator，即什么操作也不做，代理类直接调用被代理的方法不进行拦截。</span>&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(3)FixedValue：表示锁定方法返回值，无论被代理类的方法返回什么值，回调方法都返回固定值。</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Callback&nbsp;noopCb=NoOp.INSTANCE;&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Callback&nbsp;callback1=<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;TargetInterceptor();&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Callback&nbsp;fixedValue=<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;TargetResultFixed();&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Callback[]&nbsp;cbarray=<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Callback[]{callback1,noopCb,fixedValue};&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">//enhancer.setCallback(new&nbsp;TargetInterceptor());</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enhancer.setCallbacks(cbarray);&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enhancer.setCallbackFilter(callbackFilter);&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TargetObject&nbsp;targetObject2=(TargetObject)enhancer.create();&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(targetObject2);&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(targetObject2.method1(<span class="string" style="margin:0px;padding:0px;color:blue;">"mmm1"</span><span style="margin:0px;padding:0px;color:black;">));&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(targetObject2.method2(<span class="number" style="margin:0px;padding:0px;color:rgb(192, 0, 0);">100</span><span style="margin:0px;padding:0px;color:black;">));&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(targetObject2.method3(<span class="number" style="margin:0px;padding:0px;color:rgb(192, 0, 0);">100</span><span style="margin:0px;padding:0px;color:black;">));&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(targetObject2.method3(<span class="number" style="margin:0px;padding:0px;color:rgb(192, 0, 0);">200</span><span style="margin:0px;padding:0px;color:black;">));&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">}&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&lt;/span&gt;&nbsp;&nbsp;</span></li></ol></div><span style="color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><br></span><div class="dp-highlighter bg_html" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:1.1rem;width:925.212px;padding-top:1px;text-align:left;margin:18px 0px !important;color:rgb(85, 85, 85);font-style:normal;font-weight:normal;text-indent:0px;background-color:rgb(231, 229, 220);"><div class="bar" style="padding-left:45px;"><div class="tools" style="padding:3px 8px 10px 10px;font-style:normal;font-weight:normal;font-size:0.825rem;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);"><b>[html]</b><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="ViewSource" title="view plain" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">view plain</a><span data-mod="popu_168"><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="CopyToClipboard" title="copy" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">copy</a><div style="width:18px;"><embed id="ZeroClipboardMovie_6" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_6" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=6&amp;width=18&amp;height=18" wmode="transparent"></div></span><span data-mod="popu_169"></span></div></div><ol class="dp-xml wiz-list-level1" style="margin:0px 0px 1px 45px !important;padding:0px;list-style:decimal;color:rgb(92, 92, 92);background-color:rgb(255, 255, 255);"><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="tag" style="color:rgb(153, 51, 0);margin:0px;padding:0px;font-weight:bold;">&lt;</span><span class="tag-name" style="margin:0px;padding:0px;color:rgb(153, 51, 0);font-weight:bold;">span</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="attribute" style="margin:0px;padding:0px;color:red;">style</span><span style="margin:0px;padding:0px;color:black;">=</span><span class="attribute-value" style="margin:0px;padding:0px;color:blue;">"font-size:14px;"</span><span class="tag" style="color:rgb(153, 51, 0);margin:0px;padding:0px;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;color:black;">package&nbsp;com.zghw.cglib;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">import&nbsp;net.sf.cglib.proxy.FixedValue;&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">/**&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;*&nbsp;表示锁定方法返回值，无论被代理类的方法返回什么值，回调方法都返回固定值。&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;*&nbsp;@author&nbsp;zghw&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;*&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;*/&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">public&nbsp;class&nbsp;TargetResultFixed&nbsp;implements&nbsp;FixedValue{&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;/**&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;该类实现FixedValue接口，同时锁定回调值为999&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;(整型，CallbackFilter中定义的使用FixedValue型回调的方法为getConcreteMethodFixedValue，该方法返回值为整型)。&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;@Override&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;Object&nbsp;loadObject()&nbsp;throws&nbsp;Exception&nbsp;{&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println("锁定结果");&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object&nbsp;<span class="attribute" style="margin:0px;padding:0px;color:red;">obj</span><span style="margin:0px;padding:0px;color:black;">&nbsp;=&nbsp;</span><span class="attribute-value" style="margin:0px;padding:0px;color:blue;">999</span><span style="margin:0px;padding:0px;color:black;">;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;obj;&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="tag" style="color:rgb(153, 51, 0);margin:0px;padding:0px;font-weight:bold;">&lt;/</span><span class="tag-name" style="margin:0px;padding:0px;color:rgb(153, 51, 0);font-weight:bold;">span</span><span class="tag" style="color:rgb(153, 51, 0);margin:0px;padding:0px;font-weight:bold;">&gt;</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li></ol></div><span style="color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><br><strong>5.延迟加载对象</strong></span><span style="color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;background-color:rgb(255, 255, 255);"></span><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">一、作用：<br>说到延迟加载，应该经常接触到，尤其是使用Hibernate的时候，本篇将通过一个实例分析延迟加载的实现方式。<br>LazyLoader接口继承了Callback，因此也算是CGLib中的一种Callback类型。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">另一种延迟加载接口Dispatcher。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">Dispatcher接口同样继承于Callback，也是一种回调类型。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">但是Dispatcher和LazyLoader的区别在于：LazyLoader只在第一次访问延迟加载属性时触发代理类回调方法，而Dispatcher在每次访问延迟加载属性时都会触发代理类回调方法。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;"><br></span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">二、示例：<br>首先定义一个实体类LoaderBean，该Bean内有一个需要延迟加载的属性PropertyBean。</span></p><span style="color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><br></span><div class="dp-highlighter bg_java" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:1.1rem;width:925.212px;padding-top:1px;text-align:left;margin:18px 0px !important;color:rgb(85, 85, 85);font-style:normal;font-weight:normal;text-indent:0px;background-color:rgb(231, 229, 220);"><div class="bar" style="padding-left:45px;"><div class="tools" style="padding:3px 8px 10px 10px;font-style:normal;font-weight:normal;font-size:0.825rem;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);"><b>[java]</b><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="ViewSource" title="view plain" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">view plain</a><span data-mod="popu_168"><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="CopyToClipboard" title="copy" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">copy</a><div style="width:18px;"><embed id="ZeroClipboardMovie_7" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_7" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=7&amp;width=18&amp;height=18" wmode="transparent"></div></span><span data-mod="popu_169"></span></div></div><ol class="dp-j wiz-list-level1" style="margin:0px 0px 1px 45px !important;padding:0px;list-style:decimal;color:rgb(92, 92, 92);background-color:rgb(255, 255, 255);"><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span style="margin:0px;padding:0px;color:black;">&lt;span&nbsp;style=</span><span class="string" style="margin:0px;padding:0px;color:blue;">"font-size:14px;"</span><span style="margin:0px;padding:0px;color:black;">&gt;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">package</span><span style="margin:0px;padding:0px;color:black;">&nbsp;com.zghw.cglib;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;net.sf.cglib.proxy.Enhancer;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">&nbsp;LazyBean&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">private</span><span style="margin:0px;padding:0px;color:black;">&nbsp;String&nbsp;name;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">private</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">int</span><span style="margin:0px;padding:0px;color:black;">&nbsp;age;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">private</span><span style="margin:0px;padding:0px;color:black;">&nbsp;PropertyBean&nbsp;propertyBean;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">private</span><span style="margin:0px;padding:0px;color:black;">&nbsp;PropertyBean&nbsp;propertyBeanDispatcher;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;LazyBean(String&nbsp;name,&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">int</span><span style="margin:0px;padding:0px;color:black;">&nbsp;age)&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string" style="margin:0px;padding:0px;color:blue;">"lazy&nbsp;bean&nbsp;init"</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">this</span><span style="margin:0px;padding:0px;color:black;">.name&nbsp;=&nbsp;name;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">this</span><span style="margin:0px;padding:0px;color:black;">.age&nbsp;=&nbsp;age;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">this</span><span style="margin:0px;padding:0px;color:black;">.propertyBean&nbsp;=&nbsp;createPropertyBean();&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">this</span><span style="margin:0px;padding:0px;color:black;">.propertyBeanDispatcher&nbsp;=&nbsp;createPropertyBeanDispatcher();&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">/**</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;只第一次懒加载</span>&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">private</span><span style="margin:0px;padding:0px;color:black;">&nbsp;PropertyBean&nbsp;createPropertyBean()&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">/**</span>&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;使用cglib进行懒加载&nbsp;对需要延迟加载的对象添加代理，在获取该对象属性时先通过代理类回调方法进行对象初始化。</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;在不需要加载该对象时，只要不去获取该对象内属性，该对象就不会被初始化了（在CGLib的实现中只要去访问该对象内属性的getter方法，</span>&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;就会自动触发代理类回调）。</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enhancer&nbsp;enhancer&nbsp;=&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Enhancer();&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enhancer.setSuperclass(PropertyBean.<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PropertyBean&nbsp;pb&nbsp;=&nbsp;(PropertyBean)&nbsp;enhancer.create(PropertyBean.<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">,&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;ConcreteClassLazyLoader());&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;pb;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">/**</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;每次都懒加载</span>&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">private</span><span style="margin:0px;padding:0px;color:black;">&nbsp;PropertyBean&nbsp;createPropertyBeanDispatcher()&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enhancer&nbsp;enhancer&nbsp;=&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Enhancer();&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enhancer.setSuperclass(PropertyBean.<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PropertyBean&nbsp;pb&nbsp;=&nbsp;(PropertyBean)&nbsp;enhancer.create(PropertyBean.<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">,&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;ConcreteClassDispatcher());&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;pb;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;String&nbsp;getName()&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;name;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">void</span><span style="margin:0px;padding:0px;color:black;">&nbsp;setName(String&nbsp;name)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">this</span><span style="margin:0px;padding:0px;color:black;">.name&nbsp;=&nbsp;name;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">int</span><span style="margin:0px;padding:0px;color:black;">&nbsp;getAge()&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;age;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">void</span><span style="margin:0px;padding:0px;color:black;">&nbsp;setAge(</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">int</span><span style="margin:0px;padding:0px;color:black;">&nbsp;age)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">this</span><span style="margin:0px;padding:0px;color:black;">.age&nbsp;=&nbsp;age;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;PropertyBean&nbsp;getPropertyBean()&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;propertyBean;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">void</span><span style="margin:0px;padding:0px;color:black;">&nbsp;setPropertyBean(PropertyBean&nbsp;propertyBean)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">this</span><span style="margin:0px;padding:0px;color:black;">.propertyBean&nbsp;=&nbsp;propertyBean;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;PropertyBean&nbsp;getPropertyBeanDispatcher()&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;propertyBeanDispatcher;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">void</span><span style="margin:0px;padding:0px;color:black;">&nbsp;setPropertyBeanDispatcher(PropertyBean&nbsp;propertyBeanDispatcher)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">this</span><span style="margin:0px;padding:0px;color:black;">.propertyBeanDispatcher&nbsp;=&nbsp;propertyBeanDispatcher;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation" style="margin:0px;padding:0px;color:rgb(100, 100, 100);">@Override</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;String&nbsp;toString()&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="string" style="margin:0px;padding:0px;color:blue;">"LazyBean&nbsp;[name="</span><span style="margin:0px;padding:0px;color:black;">&nbsp;+&nbsp;name&nbsp;+&nbsp;</span><span class="string" style="margin:0px;padding:0px;color:blue;">",&nbsp;age="</span><span style="margin:0px;padding:0px;color:black;">&nbsp;+&nbsp;age&nbsp;+&nbsp;</span><span class="string" style="margin:0px;padding:0px;color:blue;">",&nbsp;propertyBean="</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;propertyBean&nbsp;+&nbsp;<span class="string" style="margin:0px;padding:0px;color:blue;">"]"</span><span style="margin:0px;padding:0px;color:black;">;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">}&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&lt;/span&gt;&nbsp;&nbsp;</span></li></ol></div><span style="color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><br></span><div class="dp-highlighter bg_java" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:1.1rem;width:925.212px;padding-top:1px;text-align:left;margin:18px 0px !important;color:rgb(85, 85, 85);font-style:normal;font-weight:normal;text-indent:0px;background-color:rgb(231, 229, 220);"><div class="bar" style="padding-left:45px;"><div class="tools" style="padding:3px 8px 10px 10px;font-style:normal;font-weight:normal;font-size:0.825rem;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);"><b>[java]</b><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="ViewSource" title="view plain" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">view plain</a><span data-mod="popu_168"><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="CopyToClipboard" title="copy" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">copy</a><div style="width:18px;"><embed id="ZeroClipboardMovie_8" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_8" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=8&amp;width=18&amp;height=18" wmode="transparent"></div></span><span data-mod="popu_169"></span></div></div><ol class="dp-j wiz-list-level1" style="margin:0px 0px 1px 45px !important;padding:0px;list-style:decimal;color:rgb(92, 92, 92);background-color:rgb(255, 255, 255);"><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span style="margin:0px;padding:0px;color:black;">&lt;span&nbsp;style=</span><span class="string" style="margin:0px;padding:0px;color:blue;">"font-size:14px;"</span><span style="margin:0px;padding:0px;color:black;">&gt;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">package</span><span style="margin:0px;padding:0px;color:black;">&nbsp;com.zghw.cglib;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">&nbsp;PropertyBean&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">private</span><span style="margin:0px;padding:0px;color:black;">&nbsp;String&nbsp;key;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">private</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Object&nbsp;value;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;String&nbsp;getKey()&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;key;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">void</span><span style="margin:0px;padding:0px;color:black;">&nbsp;setKey(String&nbsp;key)&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">this</span><span style="margin:0px;padding:0px;color:black;">.key&nbsp;=&nbsp;key;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Object&nbsp;getValue()&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;value;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">void</span><span style="margin:0px;padding:0px;color:black;">&nbsp;setValue(Object&nbsp;value)&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">this</span><span style="margin:0px;padding:0px;color:black;">.value&nbsp;=&nbsp;value;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation" style="margin:0px;padding:0px;color:rgb(100, 100, 100);">@Override</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;String&nbsp;toString()&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="string" style="margin:0px;padding:0px;color:blue;">"PropertyBean&nbsp;[key="</span><span style="margin:0px;padding:0px;color:black;">&nbsp;+&nbsp;key&nbsp;+&nbsp;</span><span class="string" style="margin:0px;padding:0px;color:blue;">",&nbsp;value="</span><span style="margin:0px;padding:0px;color:black;">&nbsp;+&nbsp;value&nbsp;+&nbsp;</span><span class="string" style="margin:0px;padding:0px;color:blue;">"]"</span><span style="margin:0px;padding:0px;color:black;">&nbsp;+getClass();&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">}&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&lt;/span&gt;&nbsp;&nbsp;</span></li></ol></div><span style="color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><br></span><div class="dp-highlighter bg_java" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:1.1rem;width:925.212px;padding-top:1px;text-align:left;margin:18px 0px !important;color:rgb(85, 85, 85);font-style:normal;font-weight:normal;text-indent:0px;background-color:rgb(231, 229, 220);"><div class="bar" style="padding-left:45px;"><div class="tools" style="padding:3px 8px 10px 10px;font-style:normal;font-weight:normal;font-size:0.825rem;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);"><b>[java]</b><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="ViewSource" title="view plain" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">view plain</a><span data-mod="popu_168"><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="CopyToClipboard" title="copy" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">copy</a><div style="width:18px;"><embed id="ZeroClipboardMovie_9" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_9" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=9&amp;width=18&amp;height=18" wmode="transparent"></div></span><span data-mod="popu_169"></span></div></div><ol class="dp-j wiz-list-level1" style="margin:0px 0px 1px 45px !important;padding:0px;list-style:decimal;color:rgb(92, 92, 92);background-color:rgb(255, 255, 255);"><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span style="margin:0px;padding:0px;color:black;">&lt;span&nbsp;style=</span><span class="string" style="margin:0px;padding:0px;color:blue;">"font-size:14px;"</span><span style="margin:0px;padding:0px;color:black;">&gt;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">package</span><span style="margin:0px;padding:0px;color:black;">&nbsp;com.zghw.cglib;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;net.sf.cglib.proxy.LazyLoader;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">&nbsp;ConcreteClassLazyLoader&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">implements</span><span style="margin:0px;padding:0px;color:black;">&nbsp;LazyLoader&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">/**</span>&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;对需要延迟加载的对象添加代理，在获取该对象属性时先通过代理类回调方法进行对象初始化。</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;在不需要加载该对象时，只要不去获取该对象内属性，该对象就不会被初始化了（在CGLib的实现中只要去访问该对象内属性的getter方法，</span>&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;就会自动触发代理类回调）。</span>&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation" style="margin:0px;padding:0px;color:rgb(100, 100, 100);">@Override</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Object&nbsp;loadObject()&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">throws</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Exception&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string" style="margin:0px;padding:0px;color:blue;">"before&nbsp;lazyLoader..."</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PropertyBean&nbsp;propertyBean&nbsp;=&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;PropertyBean();&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;propertyBean.setKey(<span class="string" style="margin:0px;padding:0px;color:blue;">"zghw"</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;propertyBean.setValue(<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;TargetObject());&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string" style="margin:0px;padding:0px;color:blue;">"after&nbsp;lazyLoader..."</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;propertyBean;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">}&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&lt;/span&gt;&nbsp;&nbsp;</span></li></ol></div><span style="color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><br></span><div class="dp-highlighter bg_java" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:1.1rem;width:925.212px;padding-top:1px;text-align:left;margin:18px 0px !important;color:rgb(85, 85, 85);font-style:normal;font-weight:normal;text-indent:0px;background-color:rgb(231, 229, 220);"><div class="bar" style="padding-left:45px;"><div class="tools" style="padding:3px 8px 10px 10px;font-style:normal;font-weight:normal;font-size:0.825rem;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);"><b>[java]</b><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="ViewSource" title="view plain" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">view plain</a><span data-mod="popu_168"><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="CopyToClipboard" title="copy" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">copy</a><div style="width:18px;"><embed id="ZeroClipboardMovie_10" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_10" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=10&amp;width=18&amp;height=18" wmode="transparent"></div></span><span data-mod="popu_169"></span></div></div><ol class="dp-j wiz-list-level1" style="margin:0px 0px 1px 45px !important;padding:0px;list-style:decimal;color:rgb(92, 92, 92);background-color:rgb(255, 255, 255);"><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span style="margin:0px;padding:0px;color:black;">&lt;span&nbsp;style=</span><span class="string" style="margin:0px;padding:0px;color:blue;">"font-size:14px;"</span><span style="margin:0px;padding:0px;color:black;">&gt;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">package</span><span style="margin:0px;padding:0px;color:black;">&nbsp;com.zghw.cglib;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;net.sf.cglib.proxy.Dispatcher;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">&nbsp;ConcreteClassDispatcher&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">implements</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Dispatcher{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation" style="margin:0px;padding:0px;color:rgb(100, 100, 100);">@Override</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Object&nbsp;loadObject()&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">throws</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Exception&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string" style="margin:0px;padding:0px;color:blue;">"before&nbsp;Dispatcher..."</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PropertyBean&nbsp;propertyBean&nbsp;=&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;PropertyBean();&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;propertyBean.setKey(<span class="string" style="margin:0px;padding:0px;color:blue;">"xxx"</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;propertyBean.setValue(<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;TargetObject());&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string" style="margin:0px;padding:0px;color:blue;">"after&nbsp;Dispatcher..."</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;propertyBean;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">}&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&lt;/span&gt;&nbsp;&nbsp;</span></li></ol></div><span style="color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><br><strong>6.接口生成器InterfaceMaker</strong></span><span style="color:rgb(85, 85, 85);font-family:'microsoft yahei';font-size:1.375rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;background-color:rgb(255, 255, 255);"></span><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">一、作用：</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">InterfaceMaker会动态生成一个接口，该接口包含指定类定义的所有方法。</span></p><p style="margin:0px;padding:0px;color:rgb(85, 85, 85);font-family:'microsoft yahei';font-style:normal;font-weight:normal;text-align:start;text-indent:0px;font-size:1.283rem;background-color:rgb(255, 255, 255);"><span style="font-size:1.283rem;">二、示例：</span></p><div class="dp-highlighter bg_java" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:1.1rem;width:925.212px;padding-top:1px;text-align:left;margin:18px 0px !important;color:rgb(85, 85, 85);font-style:normal;font-weight:normal;text-indent:0px;background-color:rgb(231, 229, 220);"><div class="bar" style="padding-left:45px;"><div class="tools" style="padding:3px 8px 10px 10px;font-style:normal;font-weight:normal;font-size:0.825rem;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:rgb(248, 248, 248);"><b>[java]</b><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="ViewSource" title="view plain" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">view plain</a><span data-mod="popu_168"><span class="Apple-converted-space">&nbsp;</span><a href="http://blog.csdn.net/zghwaicsdn/article/details/50957474#" class="CopyToClipboard" title="copy" target="_blank" style="text-decoration:none;padding:1px;margin:0px 10px 0px 0px;font-size:0.825rem;color:rgb(12, 137, 207);display:inline-block;width:16px;text-indent:-2000px;background-image:url(&quot;&quot;);background-position:0% 0%;background-repeat:no-repeat;">copy</a><div style="width:18px;"><embed id="ZeroClipboardMovie_11" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_11" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=11&amp;width=18&amp;height=18" wmode="transparent"></div></span><span data-mod="popu_169"></span></div></div><ol class="dp-j wiz-list-level1" style="margin:0px 0px 1px 45px !important;padding:0px;list-style:decimal;color:rgb(92, 92, 92);background-color:rgb(255, 255, 255);"><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span style="margin:0px;padding:0px;color:black;">&lt;span&nbsp;style=</span><span class="string" style="margin:0px;padding:0px;color:blue;">"font-size:14px;"</span><span style="margin:0px;padding:0px;color:black;">&gt;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">package</span><span style="margin:0px;padding:0px;color:black;">&nbsp;com.zghw.cglib;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;java.lang.reflect.InvocationTargetException;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;java.lang.reflect.Method;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;net.sf.cglib.proxy.Enhancer;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;net.sf.cglib.proxy.InterfaceMaker;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;net.sf.cglib.proxy.MethodInterceptor;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">import</span><span style="margin:0px;padding:0px;color:black;">&nbsp;net.sf.cglib.proxy.MethodProxy;&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;"><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">&nbsp;TestInterfaceMaker&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">static</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">void</span><span style="margin:0px;padding:0px;color:black;">&nbsp;main(String[]&nbsp;args)&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">throws</span><span style="margin:0px;padding:0px;color:black;">&nbsp;NoSuchMethodException,&nbsp;SecurityException,&nbsp;IllegalAccessException,&nbsp;IllegalArgumentException,&nbsp;InvocationTargetException&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InterfaceMaker&nbsp;interfaceMaker&nbsp;=<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;InterfaceMaker();&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">//抽取某个类的方法生成接口方法</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interfaceMaker.add(TargetObject.<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class&lt;?&gt;&nbsp;targetInterface=interfaceMaker.create();&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">for</span><span style="margin:0px;padding:0px;color:black;">(Method&nbsp;method&nbsp;:&nbsp;targetInterface.getMethods()){&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(method.getName());&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px;padding:0px;color:rgb(0, 130, 0);">//接口代理并设置代理接口方法拦截</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object&nbsp;object&nbsp;=&nbsp;Enhancer.create(Object.<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">,&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Class[]{targetInterface},&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;MethodInterceptor(){&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation" style="margin:0px;padding:0px;color:rgb(100, 100, 100);">@Override</span><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">public</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Object&nbsp;intercept(Object&nbsp;obj,&nbsp;Method&nbsp;method,&nbsp;Object[]&nbsp;args,&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MethodProxy&nbsp;methodProxy)&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">throws</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Throwable&nbsp;{&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">if</span><span style="margin:0px;padding:0px;color:black;">(method.getName().equals(</span><span class="string" style="margin:0px;padding:0px;color:blue;">"method1"</span><span style="margin:0px;padding:0px;color:black;">)){&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string" style="margin:0px;padding:0px;color:blue;">"filter&nbsp;method1&nbsp;"</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="string" style="margin:0px;padding:0px;color:blue;">"mmmmmmmmm"</span><span style="margin:0px;padding:0px;color:black;">;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">if</span><span style="margin:0px;padding:0px;color:black;">(method.getName().equals(</span><span class="string" style="margin:0px;padding:0px;color:blue;">"method2"</span><span style="margin:0px;padding:0px;color:black;">)){&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string" style="margin:0px;padding:0px;color:blue;">"filter&nbsp;method2&nbsp;"</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="number" style="margin:0px;padding:0px;color:rgb(192, 0, 0);">1111111</span><span style="margin:0px;padding:0px;color:black;">;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">if</span><span style="margin:0px;padding:0px;color:black;">(method.getName().equals(</span><span class="string" style="margin:0px;padding:0px;color:blue;">"method3"</span><span style="margin:0px;padding:0px;color:black;">)){&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string" style="margin:0px;padding:0px;color:blue;">"filter&nbsp;method3&nbsp;"</span><span style="margin:0px;padding:0px;color:black;">);&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="number" style="margin:0px;padding:0px;color:rgb(192, 0, 0);">3333</span><span style="margin:0px;padding:0px;color:black;">;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">return</span><span style="margin:0px;padding:0px;color:black;">&nbsp;</span><span class="string" style="margin:0px;padding:0px;color:blue;">"default"</span><span style="margin:0px;padding:0px;color:black;">;&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}});&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method&nbsp;targetMethod1=object.getClass().getMethod(<span class="string" style="margin:0px;padding:0px;color:blue;">"method3"</span><span style="margin:0px;padding:0px;color:black;">,</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Class[]{</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">int</span><span style="margin:0px;padding:0px;color:black;">.</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">});&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">int</span><span style="margin:0px;padding:0px;color:black;">&nbsp;i=(</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">int</span><span style="margin:0px;padding:0px;color:black;">)targetMethod1.invoke(object,&nbsp;</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Object[]{</span><span class="number" style="margin:0px;padding:0px;color:rgb(192, 0, 0);">33</span><span style="margin:0px;padding:0px;color:black;">});&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method&nbsp;targetMethod=object.getClass().getMethod(<span class="string" style="margin:0px;padding:0px;color:blue;">"method1"</span><span style="margin:0px;padding:0px;color:black;">,</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Class[]{String.</span><span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">class</span><span style="margin:0px;padding:0px;color:black;">});&nbsp;&nbsp;</span></span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(targetMethod.invoke(object,&nbsp;<span class="keyword" style="margin:0px;padding:0px;color:rgb(0, 102, 153);font-weight:bold;">new</span><span style="margin:0px;padding:0px;color:black;">&nbsp;Object[]{</span><span class="string" style="margin:0px;padding:0px;color:blue;">"sdfs"</span><span style="margin:0px;padding:0px;color:black;">}));&nbsp;&nbsp;</span></span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&nbsp;&nbsp;</span></li><li style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;color:rgb(92, 92, 92);background-color:rgb(248, 248, 248);"><span style="margin:0px;padding:0px;color:black;">}&nbsp;&nbsp;</span></li><li class="alt" style="margin:0px !important;padding:0px 3px 0px 10px !important;list-style:decimal-leading-zero outside;background-color:rgb(255, 255, 255);"><span style="margin:0px;padding:0px;color:black;">&lt;/span&gt;&nbsp;&nbsp;</span></li></ol></div><br></div></body></html>