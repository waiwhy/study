<!DOCTYPE HTML><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>00003- $ref:"$.rows[0].parentMenu"_外键_0_null_DisableCircularReferenceDetect</title>
    
<style id="wiz_custom_css">html, body {font-size: 12pt;}body {font-family: Helvetica, 'Hiragino Sans GB', '微软雅黑', 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;line-height: 1.6;margin: 0 auto;padding: 20px 16px;padding: 1.25rem 1rem;}h1, h2, h3, h4, h5, h6 {margin:20px 0 10px;margin:1.25rem 0 0.625rem;padding: 0;font-weight: bold;}h1 {font-size:20pt;font-size:1.67rem;}h2 {font-size:18pt;font-size:1.5rem;}h3 {font-size:15pt;font-size:1.25rem;}h4 {font-size:14pt;font-size:1.17rem;}h5 {font-size:12pt;font-size:1rem;}h6 {font-size:12pt;font-size:1rem;color: #777777;margin: 1rem 0;}div, p, ul, ol, dl, li {margin:0;}blockquote, table, pre, code {margin:8px 0;}ul, ol {padding-left:32px;padding-left:2rem;}ol.wiz-list-level1 > li {list-style-type:decimal;}ol.wiz-list-level2 > li {list-style-type:lower-latin;}ol.wiz-list-level3 > li {list-style-type:lower-roman;}blockquote {padding:0 12px;padding:0 0.75rem;}blockquote > :first-child {margin-top:0;}blockquote > :last-child {margin-bottom:0;}img {border:0;max-width:100%;height:auto !important;margin:2px 0;}table {border-collapse:collapse;border:1px solid #bbbbbb;}td, th {padding:4px 8px;border-collapse:collapse;border:1px solid #bbbbbb;min-height:28px;word-break:break-all;box-sizing: border-box;}.wiz-hide {display:none !important;}</style></head>

<body class=""  spellcheck="false"><div><div style="margin: 0px; font-family: Consolas, Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif; font-size: 1rem; font-style: normal; font-weight: normal; text-align: start; text-indent: 0px;"><div style="margin: 0px;"><div style="margin: 0px; font-weight: bold; font-family: Consolas; font-size: 1.444rem; text-decoration: none;"><div style="margin: 0px;"><div style="margin: 0px;">hibernate 中 相关联的的键值对应的row如果不存在,不能写为0</div><div style="margin: 0px;">而应是<span data-wiz-span="data-wiz-span" style="color: rgb(255, 0, 0); font-size: 1.667rem;">null</span></div><div style="margin: 0px;"><br></div></div></div><div style="color: rgb(255, 0, 0); margin: 0px; font-family: Consolas; font-size: 1.444rem; text-decoration: none;"><div style="margin:0px;font-weight:bold;"><span style="font-size:1.444rem;color:rgb(255, 0, 0);font-family:Consolas;">十月&nbsp;13,&nbsp;2017&nbsp;3:44:22&nbsp;下午&nbsp;org.apache.catalina.core.StandardWrapperValve&nbsp;invoke</span></div><div style="margin:0px;font-weight:bold;"><span style="font-size:1.444rem;color:rgb(255, 0, 0);font-family:Consolas;">严重:&nbsp;Servlet.service()&nbsp;for&nbsp;servlet&nbsp;[dispatch]&nbsp;in&nbsp;context&nbsp;with&nbsp;path&nbsp;[/dt_ssh]&nbsp;threw&nbsp;exception&nbsp;[Request&nbsp;processing&nbsp;failed;&nbsp;nested&nbsp;exception&nbsp;is&nbsp;<span style="text-decoration:underline;color:rgb(0, 102, 204);">javax.persistence.EntityNotFoundException</span>:&nbsp;No&nbsp;row&nbsp;with&nbsp;the&nbsp;given&nbsp;identifier&nbsp;exists:&nbsp;[top.qiaojianyong.dt_ssh.pojo.SysMenu#0]]&nbsp;with&nbsp;root&nbsp;cause</span></div><div style="margin:0px;font-weight:bold;"><span style="text-decoration:underline;font-size:1.444rem;color:rgb(0, 102, 204);font-family:Consolas;">javax.persistence.EntityNotFoundException<span style="text-decoration:none;color:rgb(255, 0, 0);">:<span data-wiz-span="data-wiz-span" style="font-size:1.667rem;background-color:rgb(255, 255, 0);">&nbsp;No&nbsp;row&nbsp;with&nbsp;the&nbsp;given&nbsp;identifier&nbsp;exists:&nbsp;[top.qiaojianyong.dt_ssh.pojo.SysMenu#0]</span></span></span></div><div style="margin:0px;font-weight:bold;"><span style="font-size:1.444rem;color:rgb(255, 0, 0);font-family:Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;org.hibernate.internal.ExceptionConverterImpl.convert(<span style="text-decoration:underline;color:rgb(0, 102, 204);">ExceptionConverterImpl.java:111</span>)</span></div><span style="font-size:1.444rem;color:rgb(255, 0, 0);font-family:Consolas;"><b>&nbsp;&nbsp;&nbsp;</b><div style="margin:0px;font-weight:bold;"><img src="00003- $ref--$.rows[0].parentMenu-_外键_0_null_Disab_files/12651eb8-6db0-4311-bd68-fe1ac0833739.png" style="border:0px;margin:2px 0px;"></div><div style="margin:0px;font-weight:bold;">Hibernate 当做对象 null 是可以的外键</div><div style="margin:0px;"><img src="00003- $ref--$.rows[0].parentMenu-_外键_0_null_Disab_files/cd6fea75-09a8-4fa6-8ccc-935ca49a42c9.png" style="border:0px;margin:2px 0px;"></div><div style="margin:0px;"><br></div><div style="margin:0px;font-weight:bold;"><hr></div><h1 style="margin:1.25rem 0px 0.625rem;padding:0px;font-weight:bold;font-size:1.67rem;">双向关联</h1><div style="margin:0px;"><img src="00003- $ref--$.rows[0].parentMenu-_外键_0_null_Disab_files/df1951bb-e2af-413d-b63c-d07c275c6423.png" style="border:0px;margin:2px 0px;"></div><div style="margin:0px;font-weight:bold;"><br></div><div style="margin:0px;font-weight:bold;">会出现 stackoverflow</div><div style="margin:0px;">默认 是会检测的 Detect</div><div style="margin:0px;"><b><span data-wiz-span="data-wiz-span" style="font-size:1.667rem;">&nbsp;</span><span class="name" style="color:rgb(136, 19, 145);font-family:Consolas, 'Lucida Console', 'Courier New', monospace;font-size:1rem;font-style:normal;text-align:left;text-indent:0px;"><span data-wiz-span="data-wiz-span" style="font-size:1.667rem;">$ref</span></span><span class="object-properties-section-separator" style="padding-right:5px;color:rgb(33, 33, 33);font-family:Consolas, 'Lucida Console', 'Courier New', monospace;font-size:1rem;font-style:normal;text-align:left;text-indent:0px;"><span data-wiz-span="data-wiz-span" style="font-size:1.667rem;">:</span></span><span class="object-value-string value" style="color:rgb(196, 26, 22);font-family:Consolas, 'Lucida Console', 'Courier New', monospace;font-size:1rem;font-style:normal;text-align:left;text-indent:0px;"><span class="object-value-string-quote" style="color:rgb(34, 34, 34);"><span data-wiz-span="data-wiz-span" style="font-size:1.667rem;">"</span></span><span data-wiz-span="data-wiz-span" style="font-size:1.667rem;">$.rows[0].parentMenu</span><span class="object-value-string-quote" style="color:rgb(34, 34, 34);"><span data-wiz-span="data-wiz-span" style="font-size:1.667rem;">"</span></span></span></b></div><div style="margin:0px;"><div style="margin:0px;"></div><span style="font-size:1.444rem;color:rgb(169, 183, 198);font-family:Consolas;"><b><span data-wiz-span="data-wiz-span" style="font-size:1.667rem;color:rgb(0, 0, 0);">&nbsp;&nbsp;</span><span style="font-style:italic;color:rgb(128, 128, 128);"><span data-wiz-span="data-wiz-span" style="font-size:1.667rem;color:rgb(0, 0, 0);">&lt;!--&nbsp;&lt;value&gt;<span data-wiz-span="data-wiz-span" style="color:rgb(255, 0, 0);">DisableCircularReferenceDetect</span>&lt;/value&gt;&nbsp;--&gt;</span></span></b></span><br></div><div style="margin:0px;"><span style="font-size:1.444rem;color:rgb(169, 183, 198);font-family:Consolas;"><div style="margin:0px;font-weight:bold;"><img src="00003- $ref--$.rows[0].parentMenu-_外键_0_null_Disab_files/1190afd3-93a3-41c9-abab-bcd703f227f6.png" style="border:0px;margin:2px 0px;"></div><div style="margin:0px;font-weight:bold;"><span data-wiz-span="data-wiz-span" style="font-family:Consolas;font-style:normal;font-weight:bold;text-align:start;text-indent:0px;font-size:1.667rem;color:rgb(0, 0, 0);background-color:rgb(255, 255, 255);"><br></span></div><div style="margin:0px;"><span data-wiz-span="data-wiz-span" style="font-family:Consolas;font-style:normal;text-align:start;text-indent:0px;font-size:1.667rem;color:rgb(0, 0, 0);background-color:rgb(255, 255, 255);"><b>使用默认的</b><span style="color:rgb(255, 0, 0);font-family:Consolas;font-size:1.482rem;font-style:italic;text-align:start;text-indent:0px;display:inline !important;background-color:rgb(255, 255, 255);"><b>CircularReferenceDetect</b><span data-wiz-span="data-wiz-span" style="font-size:1.667rem;"><b>好处</b></span></span><br class="Apple-interchange-newline"><b>&nbsp;&nbsp;</b></span><span style="font-weight:bold;font-family:Consolas;font-size:1.284rem;text-align:start;text-indent:0px;font-style:italic;color:rgb(128, 128, 128);background-color:rgb(255, 255, 255);"><span data-wiz-span="data-wiz-span" style="font-size:1.667rem;color:rgb(0, 0, 0);">&lt;!--&nbsp;&lt;value&gt;<span data-wiz-span="data-wiz-span" style="color:rgb(255, 0, 0);">DisableCircularReferenceDetect</span>&lt;/value&gt;&nbsp;--&gt;</span></span><br></div><div style="margin:0px;font-weight:bold;"><b style="color:rgb(0, 0, 0);font-family:Consolas, Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><div style="margin:0px;color:rgb(255, 0, 0);font-family:Consolas;font-size:1.444rem;text-decoration:none;"><span style="font-size:1.444rem;color:rgb(255, 0, 0);font-family:Consolas;"><div style="margin:0px;"><span style="font-size:1.444rem;color:rgb(169, 183, 198);font-family:Consolas;"><div style="margin:0px;"><img src="00003- $ref--$.rows[0].parentMenu-_外键_0_null_Disab_files/44304c09-9da2-4745-b618-b7ce367da8a5.png" style="border:0px;margin:2px 0px;"></div><div style="margin:0px;"><br></div><div style="margin:0px;"><br></div></span></div></span></div></b></div><div style="margin:0px;font-weight:bold;"><br></div></span></div></span></div></div></div><div style="margin:0px;color:rgb(0, 0, 0);font-family:Consolas, Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><b><div style="margin:0px;color:rgb(255, 0, 0);font-family:Consolas;font-size:1.444rem;text-decoration:none;"><span style="font-size:1.444rem;color:rgb(255, 0, 0);font-family:Consolas;"><div class="wiz-table-container" style="margin:0px;border:0px !important;padding:0px;"><div class="wiz-table-body" style="margin:10px 0px;border:0px !important;"><table style="margin:0px;border-collapse:collapse;border:1px solid rgb(187, 187, 187);width:894px;"><tbody><tr><td align="left" valign="middle" style="padding:4px 8px;border-collapse:collapse;border:1px solid rgb(187, 187, 187);width:893px;">spring-mvc.xml<br>&nbsp; &nbsp;<span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);"><span class="Apple-converted-space">&nbsp;</span>&lt;!-- mvc注解驱动 --&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &lt;mvc:annotation-driven&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &lt;!-- 替换springmvc的json处理器 --&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &lt;mvc:message-converters register-defaults="true"&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;bean</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; class="com.alibaba.fastjson.support.spring.FastJsonHttpMessageConverter"&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;property name="supportedMediaTypes"&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;list&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;value&gt;text/html;charset=UTF-8&lt;/value&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;value&gt;application/json&lt;/value&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/list&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/property&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;property name="features"&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;list&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;value&gt;WriteDateUseDateFormat&lt;/value&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;value&gt;PrettyFormat&lt;/value&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;value&gt;WriteMapNullValue&lt;/value&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;value&gt;WriteNullStringAsEmpty&lt;/value&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;value&gt;WriteNullListAsEmpty&lt;/value&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 屏蔽掉下面这句 能提升性能,直接使用当前数组里已经遍历出的数据,不用再遍历一次</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 同时能规避掉双向依赖导致的栈溢出</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="Apple-converted-space">&nbsp;</span><span data-wiz-span="data-wiz-span" style="color:rgb(255, 0, 0);background-color:rgb(255, 255, 0);">&lt;value&gt;DisableCircularReferenceDetect&lt;/value&gt;</span></span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;!-- 屏蔽掉会返回同样只 $.rows[0] --&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/list&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/property&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/bean&gt;</span><br><span data-wiz-span="data-wiz-span" style="color:rgb(0, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/mvc:message-converters&gt;</span><br>&nbsp; &nbsp; &lt;/mvc:annotation-driven&gt;<br></td></tr></tbody></table></div></div><div style="margin:0px;"><div style="margin:0px;color:rgb(255, 0, 0);font-family:Consolas;font-size:1.284rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><br></div></div><span data-wiz-span="data-wiz-span"><div style="margin:0px;"><br></div></span></span></div></b></div><br class="Apple-interchange-newline"><br></div></body></html>